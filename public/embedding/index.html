<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.115.3">
<link rel="alternate" type="application/rss&#43;xml" href="https://filepicker.cernbox.cern.ch/docs/embedding/index.xml">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/docs/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/docs/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/docs/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/docs/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/docs/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/docs/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/docs/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/docs/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/docs/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/docs/favicons/android-192x192.png" sizes="192x192">

<title>Embedding | CERNBox Filepicker</title>
<meta name="description" content="To embed the File-picker, you have to use an &lt;iframe&gt; tag:
&lt;iframe
  src= …">
<meta property="og:title" content="Embedding" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://filepicker.cernbox.cern.ch/docs/embedding/" />
<meta itemprop="name" content="Embedding">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Embedding"/>
<meta name="twitter:description" content=""/>




<link rel="preload" href="/docs/scss/main.min.3a02da4bd1e5de396c4aff4fadaabb49e67d70855dce69ecd088b73faaf608ba.css" as="style">
<link href="/docs/scss/main.min.3a02da4bd1e5de396c4aff4fadaabb49e67d70855dce69ecd088b73faaf608ba.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/docs/">
		<span class="navbar-logo"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" width="148" height="163" viewBox="-9.188 -10.103 148 163" overflow="visible" enable-background="new -9.188 -10.103 148 163"><defs/><polygon fill="#78b6e4" points="62.74,70.638 62.74,103.435 91.417,90.655 91.417,55.261 62.526,68.929"/><path fill="#4267b1" d="M63.738 142.564c-17.179.0-30.642-31.312-30.642-71.282C33.097 31.312 46.56.0 63.738.0s30.643 31.312 30.643 71.282-13.464 71.282-30.643 71.282zm0-138.91c-14.624.0-26.979 30.968-26.979 67.628s12.355 67.626 26.979 67.626c14.626.0 26.985-30.966 26.985-67.626S78.364 3.654 63.738 3.654z"/><path fill="#4267b1" d="M23.265 115.81c-10.562.0-17.934-3.106-21.314-8.987-8.564-14.897 11.865-42.175 46.518-62.102 19.56-11.251 40.398-17.97 55.746-17.97 10.561.0 17.936 3.106 21.317 8.989 4.227 7.354 1.524 17.944-7.616 29.823C109.113 77.013 95.3 88.475 79.016 97.836c-19.565 11.255-40.4 17.974-55.751 17.974zm80.949-85.405c-14.734.0-34.893 6.536-53.931 17.484C18.511 66.164-2.17 92.316 5.117 105.005c3.405 5.909 11.746 7.15 18.147 7.15 14.733.0 34.897-6.538 53.932-17.49 15.875-9.128 29.309-20.258 37.82-31.32 8.064-10.484 10.735-19.881 7.344-25.787C118.959 31.648 110.611 30.405 104.214 30.405z"/><path fill="#4267b1" d="M104.216 115.81h-.002c-15.348.0-36.19-6.719-55.746-17.974C32.179 88.475 18.363 77.013 9.562 65.563.426 53.685-2.28 43.094 1.95 35.74c3.381-5.883 10.753-8.989 21.314-8.989 15.352.0 36.187 6.719 55.751 17.97 34.647 19.927 55.079 47.204 46.516 62.102C122.149 112.703 114.774 115.81 104.216 115.81zM23.265 30.405c-6.401.0-14.742 1.243-18.147 7.152-3.39 5.906-.716 15.303 7.343 25.787 8.518 11.062 21.945 22.192 37.823 31.32 19.032 10.952 39.192 17.49 53.931 17.49h.002c6.403.0 14.743-1.241 18.145-7.15 7.295-12.688-13.39-38.841-45.164-57.115-19.036-10.948-39.2-17.484-53.933-17.484z"/><polygon fill="#27aae1" points="64.634,38.817 35.683,54.381 62.361,69.858 90.491,54.333"/><path fill="#4267b1" d="M62.361 71.66c-.313.0-.621-.081-.905-.241L34.773 55.947c-.562-.329-.906-.938-.897-1.589.012-.658.377-1.253.953-1.564l28.949-15.565c.553-.302 1.237-.289 1.779.048l25.859 15.512c.55.334.89.932.877 1.579-.012.645-.363 1.24-.938 1.544l-28.12 15.527C62.962 71.585 62.664 71.66 62.361 71.66zM39.38 54.441l23.004 13.347 24.493-13.521L64.58 40.896 39.38 54.441z"/><rect x="60.875" y="69.833" fill="#4267b1" width="3.65" height="32.216"/></svg></span><span class="font-weight-bold">CERNBox Filepicker</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"></div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docs-li">
  <a href="/docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsembedding-li">
  <a href="/docs/embedding/" class="align-left pl-0 active td-sidebar-link td-sidebar-link__section" id="m-docsembedding"><span class="td-sidebar-nav-active-item">Embedding</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdata-li">
  <a href="/docs/data/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsdata"><span class="">Data</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsstyle-li">
  <a href="/docs/style/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsstyle"><span class="">Styling</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docssetup-li">
  <a href="/docs/setup/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssetup"><span class="">Setup</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </div>
          <main class="col-12 col-md-9 col-xl-10" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs td-breadcrumbs__single">
  <ol class="breadcrumb">
  <li class="breadcrumb-item active" aria-current="page">
    <a href="https://filepicker.cernbox.cern.ch/docs/embedding/">Embedding</a>
  </li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>Embedding</h1>
  
	<header class="article-meta">
		

  
    


  
    


  

		
	</header>
	<p>To embed the File-picker, you have to use an <code>&lt;iframe&gt;</code> tag:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">iframe</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://filepicker.cernbox.cern.ch/?origin=https://mysite.cern.ch&#34;</span>
</span></span><span style="display:flex;"><span>&gt;&lt;/<span style="color:#f92672">iframe</span>&gt;
</span></span></code></pre></div><p>The source URL is <a href="https://filepicker.cernbox.cern.ch">https://filepicker.cernbox.cern.ch</a>, and it must be passed an
<code>origin</code> query parameter containing the URL of the iframe parent.</p>
<blockquote>
<p>⚠️ Remember, you have to specify the protocol (usually <code>https://</code>) in the origin.</p>
</blockquote>
<p>This enables the iframe to check it against a list of approved sites before
setting it as <code>targetOrigin</code> argument of the <code>postMessage</code> the File-picker does.
Otherwise if the parent is vulnerable the iframe could be hijacked and the
message captured, including the user token.</p>
<p>By default anything under <code>cern.ch</code> is allowed. Outside sources can
<a href="https://github.com/cernbox/file-picker-wrapper/issues/new">open an issue</a>
requesting addition to the whitelist.</p>
<h2 id="operation-modes">Operation modes</h2>
<p>There are two ways to use the File-picker, depending on the value of the
<code>locationPicker</code> search parameter.</p>
<h3 id="file-selector">File selector</h3>
<p>This mode allows users to select files from their storage and then sends the
selection to the parent application. This selection can be sent as a URL or a
public link.</p>
<p>This is the default mode and there is no configuration setting for it.</p>
<h4 id="url-sharing">URL sharing</h4>
<p>By default, the File-picker will send the files&rsquo; URL to the parent application,
along with an authentication token to enable the download. This token is usually
short lived, therefore this mode is more suited for downloading the selected
files straight away after the user has made the selection (for example to copy
them to the parent application&rsquo;s backend).</p>
<h4 id="public-link-sharing">Public link sharing</h4>
<p>Alternatively, the File-picker can generate public links for the selected files
and send them to the parent application. This can be enabled by passing the
<code>publicLink=1</code> parameter. These links will be valid in the longer term, and so
they can be used to link files somewhere without copying them. The duration of
the links can be adjusted with the <code>publicLinkDuration</code>, in days. These public
links will have the <a href="https://cs3org.github.io/cs3apis/#cs3.sharing.link.v1beta1.CreatePublicShareRequest"><code>internal</code></a>
flag set (so they are not visible in ownCloud web), and can be given a
description via the <code>description</code> parameter.</p>
<blockquote>
<p>ℹ️ Keep in mind, if the owner of the file deletes or moves it, the public link
will stop being valid. This is especially important if you plan to have
long-term access to the files.</p>
</blockquote>
<h3 id="location-selector">Location selector</h3>
<p>This mode allows users to select a path inside their storage for the parent
application to upload files into it.</p>
<p>The File-picker will provide the parent application with authentication details
along with the selected path.</p>
<h2 id="query-parameters">Query parameters</h2>
<p>The File-picker accepts the following parameters through the query string:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Values</th>
<th>Default</th>
<th>Required</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>origin</td>
<td>URL of the iframe parent</td>
<td><code>string</code></td>
<td></td>
<td>Yes</td>
<td><code>https://indico.cern.ch</code></td>
</tr>
<tr>
<td>locationPicker</td>
<td>Show the location picker instead of the regular File-picker</td>
<td><code>bool</code></td>
<td><code>false</code></td>
<td>No</td>
<td><code>1</code></td>
</tr>
<tr>
<td>style</td>
<td>Style to apply to the File-picker</td>
<td><code>light | dark | indico</code></td>
<td><code>light</code></td>
<td>No</td>
<td><code>light</code></td>
</tr>
<tr>
<td>startPath</td>
<td>Start path for the File-picker browser, always starting with <code>/</code> (overriden by <code>userHome</code>)</td>
<td><code>string</code></td>
<td><code>/</code></td>
<td>No</td>
<td><code>/aFolder/subFolder</code></td>
</tr>
<tr>
<td>userHome</td>
<td>Whether the File-picker should start the browser in the user home folder (takes precedence over <code>startPath</code>)</td>
<td><code>bool</code></td>
<td><code>true</code></td>
<td>No</td>
<td><code>0</code></td>
</tr>
</tbody>
</table>
<p>The following parameters are only relevant when using the regular File-picker, not <code>locationPicker</code>.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Values</th>
<th>Default</th>
<th>Required</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>publicLink</td>
<td>If <code>true</code>, the File-picker will generate <a href="https://doc.owncloud.com/webui/next/classic_ui/files/public_link_shares.html">public links</a> for the shared files</td>
<td><code>bool</code></td>
<td><code>false</code></td>
<td>No</td>
<td><code>1</code></td>
</tr>
<tr>
<td>publicLinkDuration</td>
<td>If <code>publicLink</code> is <code>true</code>, number of days links will be valid before expiry</td>
<td><code>number</code></td>
<td><code>0</code></td>
<td>No</td>
<td><code>30</code></td>
</tr>
<tr>
<td>publicLinkDescription</td>
<td><a href="https://cs3org.github.io/cs3apis/#cs3.sharing.link.v1beta1.CreatePublicShareRequest">Description</a> for the public link</td>
<td><code>string</code></td>
<td></td>
<td>No</td>
<td><code>CodiMD</code></td>
</tr>
<tr>
<td>mimeTypes</td>
<td>A url-encoded, comma-separated list of <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types">MIME types</a> to filter the contents of the user storage</td>
<td><code>string</code></td>
<td></td>
<td>No</td>
<td><code>image%2Fjpeg%2Cimage%2Fsvg%2Bxml</code></td>
</tr>
</tbody>
</table>

        <div class="section-index">
    
    
    
    
    
    
    
    
    
</div>

	
	
	
</div>

          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/cernbox/file-picker-wrapper" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>


















<script src="/docs/js/main.min.f510ae272e5fed5e099d0175927618bc12b77b1950da35384a8dd47cd2d687d4.js" integrity="sha256-9RCuJy5f7V4JnQF1knYYvBK3exlQ2jU4So3UfNLWh9Q=" crossorigin="anonymous"></script>




  </body>
</html>
